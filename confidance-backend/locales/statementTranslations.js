/**
 * Traductions pour le relevé mensuel (email + PDF).
 * Clés: fr, en, es, ru, zh
 */
const translations = {
  fr: {
    title: 'Relevé mensuel Confidance',
    period: 'Période :',
    periodFromTo: 'du',
    periodTo: 'au',
    generatedOn: 'Édité le :',
    monthlySummary: 'Synthèse mensuelle',
    description: 'Description',
    totalSent: 'Total envoyé',
    totalReceived: 'Total reçu',
    netChange: 'Variation nette',
    transactionsThisMonth: 'transaction(s) ce mois',
    transactionDetails: 'Détail des transactions',
    date: 'Date',
    type: 'Type',
    amount: 'Montant',
    counterparty: 'Contrepartie',
    sent: 'Envoyé',
    received: 'Reçu',
    paymentExecuted: 'Paiement programmé exécuté',
    paymentPending: 'Paiement programmé en cours',
    paymentCancelled: 'Paiement annulé',
    transaction: 'Transaction',
    importantInfo: 'Informations importantes',
    infoNonCustodial: 'Confidance est non-custodial : Vos fonds ne sont jamais détenus par Confidance. Vous gardez le contrôle total de votre wallet.',
    infoBlockchain: 'Vérification blockchain : Toutes les transactions sont vérifiables publiquement sur <a href="https://basescan.org" style="color: #3b82f6;">Basescan</a>.',
    infoPdf: 'PDF joint : Vous trouverez le relevé complet en pièce jointe de cet email.',
    footerAuto: 'Ce relevé est généré automatiquement par Confidance à partir des données publiques de la blockchain.',
    footerQuestion: 'Pour toute question :',
    footerBrand: 'Confidance - Plateforme non-custodiale de paiements programmés',
    emailSubject: 'Votre relevé mensuel Confidance',
  },
  en: {
    title: 'Confidance monthly statement',
    period: 'Period:',
    periodFromTo: 'from',
    periodTo: 'to',
    generatedOn: 'Generated on:',
    monthlySummary: 'Monthly summary',
    description: 'Description',
    totalSent: 'Total sent',
    totalReceived: 'Total received',
    netChange: 'Net change',
    transactionsThisMonth: 'transaction(s) this month',
    transactionDetails: 'Transaction details',
    date: 'Date',
    type: 'Type',
    amount: 'Amount',
    counterparty: 'Counterparty',
    sent: 'Sent',
    received: 'Received',
    paymentExecuted: 'Scheduled payment executed',
    paymentPending: 'Scheduled payment pending',
    paymentCancelled: 'Payment cancelled',
    transaction: 'Transaction',
    importantInfo: 'Important information',
    infoNonCustodial: 'Confidance is non-custodial: Your funds are never held by Confidance. You keep full control of your wallet.',
    infoBlockchain: 'Blockchain verification: All transactions are publicly verifiable on Basescan.',
    infoPdf: 'PDF attached: You will find the full statement attached to this email.',
    footerAuto: 'This statement is automatically generated by Confidance from public blockchain data.',
    footerQuestion: 'For any questions:',
    footerBrand: 'Confidance - Non-custodial scheduled payments platform',
    emailSubject: 'Your Confidance monthly statement',
  },
  es: {
    title: 'Extracto mensual Confidance',
    period: 'Período:',
    periodFromTo: 'del',
    periodTo: 'al',
    generatedOn: 'Generado el:',
    monthlySummary: 'Resumen mensual',
    description: 'Descripción',
    totalSent: 'Total enviado',
    totalReceived: 'Total recibido',
    netChange: 'Variación neta',
    transactionsThisMonth: 'transacción(es) este mes',
    transactionDetails: 'Detalle de transacciones',
    date: 'Fecha',
    type: 'Tipo',
    amount: 'Importe',
    counterparty: 'Contrapartida',
    sent: 'Enviado',
    received: 'Recibido',
    paymentExecuted: 'Pago programado ejecutado',
    paymentPending: 'Pago programado pendiente',
    paymentCancelled: 'Pago cancelado',
    transaction: 'Transacción',
    importantInfo: 'Información importante',
    infoNonCustodial: 'Confidance es no custodial: Sus fondos nunca son retenidos por Confidance. Usted mantiene el control total de su wallet.',
    infoBlockchain: 'Verificación blockchain: Todas las transacciones son verificables públicamente en <a href="https://basescan.org" style="color: #3b82f6;">Basescan</a>.',
    infoPdf: 'PDF adjunto: Encontrará el extracto completo adjunto a este correo.',
    footerAuto: 'Este extracto se genera automáticamente por Confidance a partir de datos públicos de la blockchain.',
    footerQuestion: 'Para cualquier pregunta:',
    footerBrand: 'Confidance - Plataforma de pagos programados no custodial',
    emailSubject: 'Su extracto mensual Confidance',
  },
  ru: {
    title: 'Ежемесячная выписка Confidance',
    period: 'Период:',
    periodFromTo: 'с',
    periodTo: 'по',
    generatedOn: 'Сформировано:',
    monthlySummary: 'Итоги за месяц',
    description: 'Описание',
    totalSent: 'Всего отправлено',
    totalReceived: 'Всего получено',
    netChange: 'Чистое изменение',
    transactionsThisMonth: 'транзакция(й) за месяц',
    transactionDetails: 'Детали транзакций',
    date: 'Дата',
    type: 'Тип',
    amount: 'Сумма',
    counterparty: 'Контрагент',
    sent: 'Отправлено',
    received: 'Получено',
    paymentExecuted: 'Запланированный платёж выполнен',
    paymentPending: 'Запланированный платёж в ожидании',
    paymentCancelled: 'Платёж отменён',
    transaction: 'Транзакция',
    importantInfo: 'Важная информация',
    infoNonCustodial: 'Confidance — некстодиальное решение: ваши средства не хранятся у Confidance. Вы полностью контролируете свой кошелёк.',
    infoBlockchain: 'Проверка в блокчейне: все транзакции публично проверяемы на Basescan.',
    infoPdf: 'Вложение PDF: полная выписка приложена к этому письму.',
    footerAuto: 'Эта выписка автоматически сформирована Confidance на основе публичных данных блокчейна.',
    footerQuestion: 'По вопросам:',
    footerBrand: 'Confidance — некстодиальная платформа запланированных платежей',
    emailSubject: 'Ваша ежемесячная выписка Confidance',
  },
  zh: {
    title: 'Confidance 月度对账单',
    period: '期间：',
    periodFromTo: '自',
    periodTo: '至',
    generatedOn: '生成于：',
    monthlySummary: '月度汇总',
    description: '说明',
    totalSent: '总发送',
    totalReceived: '总收到',
    netChange: '净变动',
    transactionsThisMonth: '笔交易（本月）',
    transactionDetails: '交易明细',
    date: '日期',
    type: '类型',
    amount: '金额',
    counterparty: '对方',
    sent: '发送',
    received: '收到',
    paymentExecuted: '已执行计划付款',
    paymentPending: '计划付款待处理',
    paymentCancelled: '付款已取消',
    transaction: '交易',
    importantInfo: '重要信息',
    infoNonCustodial: 'Confidance 为非托管：您的资金从未由 Confidance 持有。您完全控制自己的钱包。',
    infoBlockchain: '区块链验证：所有交易可在 <a href="https://basescan.org" style="color: #3b82f6;">Basescan</a> 上公开验证。',
    infoPdf: '附件 PDF：您将在此邮件附件中找到完整对账单。',
    footerAuto: '本对账单由 Confidance 根据区块链公开数据自动生成。',
    footerQuestion: '如有疑问：',
    footerBrand: 'Confidance - 非托管计划付款平台',
    emailSubject: '您的 Confidance 月度对账单',
  },
};

const monthNames = {
  fr: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
  en: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
  es: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
  ru: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
  zh: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
};

function t(locale, key) {
  const lang = (locale && translations[locale]) ? locale : 'fr';
  return (translations[lang] && translations[lang][key]) || translations.fr[key] || key;
}

function getMonthName(locale, month) {
  const lang = (locale && monthNames[locale]) ? locale : 'fr';
  const names = monthNames[lang] || monthNames.fr;
  return names[month - 1] || month;
}

function formatPeriod(locale, month, year) {
  return `${getMonthName(locale, month)} ${year}`;
}

module.exports = { translations, monthNames, t, getMonthName, formatPeriod };
